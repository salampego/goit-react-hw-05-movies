{"version":3,"file":"static/js/168.21ddeea0.chunk.js","mappings":"oNACA,EAAuB,sBAAvB,EAAoD,sBAApD,EAA0F,+BAA1F,EAA8I,oC,mBCK/H,SAASA,IACtB,OAAwCC,EAAAA,EAAAA,UAAS,MAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACQC,GAAOC,EAAAA,EAAAA,MAAPD,GAOR,OAJAE,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAkBH,GAAII,MAAK,SAAAC,GAAG,OAAIN,EAAgBM,EAAIC,KAAKC,QAA7B,GAC/B,GAAE,CAACP,IAECF,GAGLU,QAAQC,IAAIX,GACLA,EAAaY,OAAS,GAC3B,eAAIC,UAAWC,EAAf,SACGd,EAAae,KAAI,YAAsC,IAAnCb,EAAkC,EAAlCA,GAAIc,EAA8B,EAA9BA,QAASC,EAAqB,EAArBA,eAChC,OACE,2BACE,kBAAMJ,UAAWC,EAAjB,0BACOG,EAAeC,OAAcD,EAAeC,OAApB,GAD/B,YAGA,mBACA,gBACEC,IACEF,EAAeG,aACfH,EAAeG,YAAYC,SAAS,YAChCJ,EAAeG,YAAYE,UAAU,GAvBvC,kCAwBYL,EAAeG,YAE/BG,IAAKN,EAAeO,SACpBX,UAAWC,KAEb,iBAAMD,UAAWC,EAAjB,SAAwCE,MAfjCd,EAkBZ,OAGH,oEA5BO,IA8BV,C,4MC5CKuB,EAAW,+BACXC,EAAU,mCAET,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,8FACQC,IAAM,GAAD,OACbH,EADa,uCAC0BC,EAD1B,YADb,0GAMA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAAgCC,GAAhC,iFACQF,IAAM,KAAD,OAClBH,EADkB,iCACeC,EADf,iCAC+CI,EAD/C,gCADb,0GAKA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA8BC,GAA9B,iFACQJ,IAAM,GAAD,OACbH,EADa,kBACKO,EADL,oBACuBN,EADvB,oBADb,0GAMA,SAAeO,EAAtB,+CAAO,OAAP,oBAAO,WAAiCD,GAAjC,iFACQJ,IAAM,GAAD,OAAIH,EAAJ,kBAAsBO,EAAtB,uEADb,0GAKA,SAAe3B,EAAtB,+CAAO,OAAP,oBAAO,WAAiC6B,GAAjC,iFACQN,IAAM,GAAD,OACbH,EADa,kBACKS,EADL,4BACgCR,EADhC,2BADb,0G","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","service/API.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Reviews_list__okdpy\",\"rate\":\"Reviews_rate__P43l-\",\"reviewsAvatar\":\"Reviews_reviewsAvatar__U1Wnh\",\"reviewsDescription\":\"Reviews_reviewsDescription__6br+V\"};","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport s from './Reviews.module.css';\nimport { fetchMovieReviews } from 'service/API';\n\nexport default function Reviews() {\n  const [movieReviews, setMovieReviews] = useState(null);\n  const { id } = useParams();\n  const baseUrl = 'https://image.tmdb.org/t/p/w500';\n\n  useEffect(() => {\n    fetchMovieReviews(id).then(res => setMovieReviews(res.data.results));\n  }, [id]);\n\n  if (!movieReviews) {\n    return null;\n  }\n  console.log(movieReviews);\n  return movieReviews.length > 0 ? (\n    <ul className={s.list}>\n      {movieReviews.map(({ id, content, author_details }) => {\n        return (\n          <li key={id}>\n            <span className={s.rate}>\n              ⭐️ {!author_details.rating ? 10 : author_details.rating} / 10\n            </span>\n            <br />\n            <img\n              src={\n                author_details.avatar_path &&\n                author_details.avatar_path.includes('gravatar')\n                  ? author_details.avatar_path.substring(1)\n                  : baseUrl + author_details.avatar_path\n              }\n              alt={author_details.username}\n              className={s.reviewsAvatar}\n            />\n            <span className={s.reviewsDescription}>{content}</span>\n          </li>\n        );\n      })}\n    </ul>\n  ) : (\n    <p>We don't have any review for this movie</p>\n  );\n}\n\nReviews.propTypes = {\n  movieReviews: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      author: PropTypes.string.isRequired,\n      content: PropTypes.string.isRequired,\n    })\n  ),\n};\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '60fcd2a553e98d3878a95d0ec6c21c9e';\n\nexport async function fetchMovieTrend() {\n  return await axios(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=1`\n  );\n}\n\nexport async function fetchSearchMovie(movieName) {\n  return await axios(`\n${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${movieName}&page=1&include_adult=false`);\n}\n\nexport async function fetchMovieMore(moveId) {\n  return await axios(\n    `${BASE_URL}/movie/${moveId}?api_key=${API_KEY}&language=en-US`\n  );\n}\n\nexport async function fetchMovieCredits(moveId) {\n  return await axios(`${BASE_URL}/movie/${moveId}/credits?api_key=60fcd2a553e98d3878a95d0ec6c21c9e&language=en-US\n`);\n}\n\nexport async function fetchMovieReviews(movieId) {\n  return await axios(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n}\n"],"names":["Reviews","useState","movieReviews","setMovieReviews","id","useParams","useEffect","fetchMovieReviews","then","res","data","results","console","log","length","className","s","map","content","author_details","rating","src","avatar_path","includes","substring","alt","username","BASE_URL","API_KEY","fetchMovieTrend","axios","fetchSearchMovie","movieName","fetchMovieMore","moveId","fetchMovieCredits","movieId"],"sourceRoot":""}